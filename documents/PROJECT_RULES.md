# HARCAプロジェクト固有ルール

このドキュメントは、HARCAプロジェクトの開発に関する固有のルールを定義します。

## パッケージ管理

- このプロジェクトでは**pnpm**を使用します
- npm や yarn の使用は禁止されています

## 環境設定

### ポート割り当て
- **HARCAサーバー**: 3700（HTTPモード）
- **Redis**: 3710
- **pgAdmin**: 3720
- **PostgreSQL**: 3730

### 環境変数管理
- 常に`.env.example`ファイルを最新の状態に保つ
- 機密情報は`.env.local`に保存（gitで追跡されない）
- 環境変数名にはサービス名をプレフィックスとして使用（例: `HARCA_API_KEY`）

## 開発ワークフロー

### ブランチ戦略
- `main`: 安定/本番バージョン
- `develop`: 開発統合ブランチ
- 機能ブランチ: `feature/機能名`
- バグ修正: `fix/簡潔な問題の説明`

## ドキュメント要件

### プロジェクトREADME
- プロジェクトの概要と目的
- セットアップ手順（pnpmおよびnpmユーザー向けの参照）
- 開発環境の起動方法
- テストの実行方法
- 主なAPI/機能の概要

## パフォーマンスとセキュリティ要件

### パフォーマンス基準
- API応答時間: リクエストの95%で500ms以下
- ベクトル検索: 1000万ベクトルでのクエリの95%で200ms以下
- フロントエンドの読み込み: First Contentful Paintが1.5秒以内

### セキュリティ基準
- すべてのAPIエンドポイントでの認証チェック
- ユーザー入力の厳密な検証
- 機密データの適切な暗号化
- 依存関係の定期的な脆弱性スキャン
- CSRFトークンの実装
